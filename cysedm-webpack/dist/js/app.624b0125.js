(function(e){function t(t){for(var s,o,i=t[0],l=t[1],c=t[2],d=0,f=[];d<i.length;d++)o=i[d],a[o]&&f.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(f.length)f.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},a={app:0},n=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"039a":function(e,t,r){"use strict";var s=r("fb8f"),a=r.n(s);a.a},4366:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("744f"),r("6c7b"),r("7514"),r("20d6"),r("1c4c"),r("6762"),r("cadf"),r("e804"),r("55dd"),r("d04f"),r("c8ce"),r("217b"),r("7f7f"),r("f400"),r("7f25"),r("536b"),r("d9ab"),r("f9ab"),r("32d7"),r("25c9"),r("9f3c"),r("042e"),r("c7c6"),r("f4ff"),r("049f"),r("7872"),r("a69f"),r("0b21"),r("6c1a"),r("c7c62"),r("84b4"),r("c5f6"),r("2e37"),r("fca0"),r("7cdf"),r("ee1d"),r("b1b1"),r("87f3"),r("9278"),r("5df2"),r("04ff"),r("f751"),r("4504"),r("fee7"),r("ffc1"),r("0d6d"),r("9986"),r("8e6e"),r("25db"),r("e4f7"),r("b9a1"),r("64d5"),r("9aea"),r("db97"),r("66c8"),r("57f0"),r("165b"),r("456d"),r("cf6a"),r("fd24"),r("8615"),r("551c"),r("097d"),r("df1b"),r("2397"),r("88ca"),r("ba16"),r("d185"),r("ebde"),r("2d34"),r("f6b3"),r("2251"),r("c698"),r("a19f"),r("9253"),r("9275"),r("3b2b"),r("3846"),r("4917"),r("a481"),r("28a5"),r("386d"),r("6b54"),r("4f7f"),r("8a81"),r("ac4d"),r("8449"),r("9c86"),r("fa83"),r("48c0"),r("a032"),r("aef6"),r("d263"),r("6c37"),r("9ec8"),r("5695"),r("2fdb"),r("d0b0"),r("b54a"),r("f576"),r("ed50"),r("788d"),r("14b9"),r("f386"),r("f559"),r("1448"),r("673e"),r("242a"),r("c66f"),r("b05c"),r("34ef"),r("6aa2"),r("15ac"),r("af56"),r("b6e4"),r("9c29"),r("63d9"),r("4dda"),r("10ad"),r("c02b"),r("4795"),r("130f"),r("ac6a"),r("96cf");var s=r("2b0e"),a=r("ce5b"),n=r.n(a);r("bf40");s["default"].use(n.a,{iconfont:"md"});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("router-view",{attrs:{drawer:e.drawer}}),r("Toolbar",{on:{toggleNav:function(t){e.drawer=!e.drawer}}})],1)},i=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":"",dark:"",color:"primary"}},[r("v-toolbar-side-icon",{on:{click:function(t){e.toggleDrawer()}}}),r("router-link",{attrs:{to:"/"}},[r("v-toolbar-title",{staticClass:"white--text"},[e._v("CyseDM")])],1),r("v-spacer"),r("v-alert",{staticStyle:{position:"relative",top:"62px"},attrs:{transition:"scale-transition",type:"success",icon:"check_circle",dismissible:""},model:{value:e.alertSuccess,callback:function(t){e.alertSuccess=t},expression:"alertSuccess"}},[e._v("You've succesfully logged out!")]),r("v-alert",{staticStyle:{position:"absolute",top:"62px"},attrs:{transition:"scale-transition",type:"error",icon:"warning",dismissible:""},model:{value:e.alertFail,callback:function(t){e.alertFail=t},expression:"alertFail"}},[e._v("Error logging out: "+e._s(e.err)+"!")]),e.isLoggedIn?r("v-menu",{attrs:{"offset-y":""}},[r("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[r("span",[e._v(e._s(e.currentUser.username))]),r("v-icon",[e._v("arrow_drop_down")])],1),r("v-list",e._l(e.actions,function(t,s){return r("v-list-tile",{key:s,on:{click:t.action}},[r("v-list-tile-title",[e._v(e._s(t.title))])],1)}))],1):e._e()],1)},c=[],u=r("2f62");function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){f(e,t,r[t])})}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={data:function(){var e=this;return{alertSuccess:!1,alertFail:!1,err:"",actions:[{title:"Logout",action:function(){try{e.$store.commit("users/logout"),e.$router.push("login"),e.alertSuccess=!0,setTimeout(function(){this.alertSuccess=!1},3e3)}catch(t){e.err=t,e.alertFail=!0}}}]}},computed:d({},Object(u["b"])("users",["isLoggedIn","currentUser"])),watch:{},methods:{toggleDrawer:function(){this.$eventHub.$emit("toggleDrawer")}}},v=p,m=r("2877"),h=Object(m["a"])(v,l,c,!1,null,null,null);h.options.__file="Toolbar.vue";var g=h.exports,b=r("8c4f"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("v-container",[r("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12 mt-5"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[e._v("Login")]),r("v-spacer")],1),r("v-card-text",[r("v-form",{attrs:{"lazy-validation":""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.valid&&e.logIn()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{"error-messages":e.loginErrors,"prepend-icon":"person",label:"Username or Email",type:"text",required:""},on:{input:function(t){e.$v.login.$touch()},blur:function(t){e.$v.login.$touch()}},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),r("v-text-field",{attrs:{"error-messages":e.passwordErrors,"prepend-icon":"lock",label:"Password",type:"password",required:""},on:{input:function(t){e.$v.password.$touch()},blur:function(t){e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-alert",{attrs:{dismissible:"",type:"error",transition:"scale-transition"},model:{value:e.loginErr,callback:function(t){e.loginErr=t},expression:"loginErr"}},[e._v(e._s(e.errMsg))]),r("v-alert",{attrs:{dismissible:"",type:"success",transition:"scale-transition"},model:{value:e.loginRes,callback:function(t){e.loginRes=t},expression:"loginRes"}},[e._v("Succesfully authenticated.")]),r("v-btn",{attrs:{loading:e.loading,disabled:!e.valid||e.loading,block:"",color:"primary"},on:{click:e.logIn}},[e._v("Login")])],1),r("v-btn",{attrs:{dark:"",block:"",color:"secondary",to:"/forgot"}},[e._v("Forgot password")]),r("v-btn",{attrs:{block:"",outline:"",color:"primary",to:"/register"}},[e._v("Register")])],1)],1),e._v("\n          "+e._s(e.debug)+"\n        ")],1)],1)],1)],1)],1)},y=[],_=r("b5ae"),$={name:"Login",validations:{login:{required:_["required"]},password:{required:_["required"]}},data:function(){return{loader:null,loading:!1,valid:!0,login:"",password:"",loginRes:!1,loginMsg:"",loginErr:!1,errMsg:"",debug:"b-it-s.nl"}},computed:{loginErrors:function(){var e=[];return this.$v.login.$dirty?(!this.$v.login.required&&e.push("Login is required."),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required."),e):e}},methods:{logIn:function(){var e=this;this.loader="loading",this.$store.commit("users/auth_request"),this.axios({method:"post",data:{login:this.login,password:this.password},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/login")}).then(function(t){e.loading=!1,e.$store.commit("users/auth_success",t.data),e.loginRes=!0,e.loginMsg=t.data,e.$router.push("messages")}).catch(function(t){e.loading=!1,e.$store.commit("users/auth_error"),e.loginErr=!0,e.errMsg=t.message,t.response&&(e.errMsg=t.response.data.message)})}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout(function(){return e[t]=!1},3e3),this.loader=null}}},x=$,k=(r("039a"),Object(m["a"])(x,w,y,!1,null,null,null));k.options.__file="Login.vue";var E=k.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("v-container",[r("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12 mt-5"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[e.registered?r("v-toolbar-title",[e._v(" Welcome "+e._s(e.username)+"!")]):r("v-toolbar-title",[e._v("Register")]),r("v-spacer")],1),r("v-card-text",[e.registered?r("div",[r("v-alert",{staticClass:"mb-3",attrs:{value:!0,color:"success",icon:"check_circle",outline:""}},[r("span",{staticClass:"title"},[e._v(" Your account has been created successfully! ")])]),r("v-btn",{attrs:{block:"",color:"primary",to:"/login"}},[e._v(" Return to loginpage ")])],1):r("v-form",{attrs:{"lazy-validation":""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.valid&&e.register()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{"error-messages":e.usernameErrors,"prepend-icon":"person",label:"Username",type:"text",required:""},on:{input:function(t){e.$v.username.$touch()},blur:function(t){e.$v.username.$touch()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{"error-messages":e.firstnameErrors,"prepend-icon":"undo",label:"First name",type:"text",required:""},on:{input:function(t){e.$v.firstname.$touch()},blur:function(t){e.$v.firstname.$touch()}},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}}),r("v-text-field",{attrs:{"error-messages":e.lastnameErrors,"prepend-icon":"redo",label:"Last name",type:"text",required:""},on:{input:function(t){e.$v.lastname.$touch()},blur:function(t){e.$v.lastname.$touch()}},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),r("v-text-field",{attrs:{"error-messages":e.emailErrors,"prepend-icon":"mail_outline",label:"Email",type:"text",required:""},on:{input:function(t){e.$v.email.$touch()},blur:function(t){e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{"error-messages":e.passwordErrors,"prepend-icon":"done",label:"Password",type:"password",required:""},on:{input:function(t){e.$v.password.$touch()},blur:function(t){e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-text-field",{attrs:{"error-messages":e.confirmErrors,"prepend-icon":"done_all",label:"Confirm password",type:"password",sameAsPassword:""},on:{input:function(t){e.$v.confirmpassword.$touch()},blur:function(t){e.$v.confirmpassword.$touch()}},model:{value:e.confirmpassword,callback:function(t){e.confirmpassword=t},expression:"confirmpassword"}}),r("v-alert",{attrs:{dismissible:"",type:"error",transition:"scale-transition"},model:{value:e.regErr,callback:function(t){e.regErr=t},expression:"regErr"}},[e._v(" "+e._s(e.errMsg))]),r("v-alert",{attrs:{dismissible:"",type:"success",transition:"scale-transition"},model:{value:e.regRes,callback:function(t){e.regRes=t},expression:"regRes"}},[e._v(" Succesfully registered. ")]),r("v-btn",{attrs:{loading:e.loading,disabled:!e.valid||e.loading,block:"",color:"primary"},on:{click:e.register}},[e._v(" Register ")])],1)],1)],1)],1)],1)],1)],1)],1)},q=[],O=function(e){return/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/.test(e)},j={name:"Register",data:function(){return{loader:null,loading:!1,valid:!0,username:"",firstname:"",lastname:"",email:"",password:"",confirmpassword:"",regRes:!1,regMsg:"",regErr:!1,errMsg:"",registered:!1}},validations:{username:{required:_["required"],maxLength:Object(_["maxLength"])(12),alphaNum:_["alphaNum"]},firstname:{required:_["required"],isValidName:O,maxLength:Object(_["maxLength"])(40),alpha:_["alpha"]},lastname:{required:_["required"],isValidName:O,maxLength:Object(_["maxLength"])(40),alpha:_["alpha"]},email:{required:_["required"],email:_["email"]},password:{required:_["required"],minLength:Object(_["minLength"])(8),alphaNum:_["alphaNum"]},confirmpassword:{required:_["required"],sameAsPassword:Object(_["sameAs"])("password")}},computed:{usernameErrors:function(){var e=[];return this.$v.username.$dirty?(!this.$v.username.maxLength&&e.push("Username must be at most 12 characters long"),!this.$v.username.required&&e.push("Username is required."),!this.$v.username.alphaNum&&e.push("Username must be alphanumeric."),e):e},firstnameErrors:function(){var e=[];return this.$v.firstname.$dirty?(!this.$v.firstname.maxLength&&e.push("Name must be at most 40 characters long"),!this.$v.firstname.required&&e.push("First name is required."),!this.$v.firstname.isValidName&&e.push("Firstname contains illegal characters"),e):e},lastnameErrors:function(){var e=[];return this.$v.lastname.$dirty?(!this.$v.lastname.maxLength&&e.push("Name must be at most 40 characters long"),!this.$v.lastname.required&&e.push("Last name is required."),!this.$v.lastname.isValidName&&e.push("Lastname contains illegal characters"),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Enter a valid email addres"),!this.$v.email.required&&e.push("Email is required."),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&e.push("Password must be at least 8 characters long"),!this.$v.email.required&&e.push("Password is required."),e):e},confirmErrors:function(){var e=[];return this.$v.confirmpassword.$dirty?(!this.$v.confirmpassword.sameAsPassword&&e.push("Passwords must be identical"),!this.$v.confirmpassword.required&&e.push("Confirming password is required."),e):e}},methods:{register:function(){var e=this;this.loader="loading",this.axios({method:"post",data:{username:this.username,firstName:this.firstname,lastName:this.lastname,email:this.email,password:this.password},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/create")}).then(function(t){e.loading=!1,e.regRes=!0,e.regMsg=t.data,e.registered=!0}).catch(function(t){e.loading=!1,e.regErr=!0,e.errMsg=t.message.toString(),t.response.data&&(e.errMsg=t.response.data.message)})}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout(function(){return e[t]=!1},3e3),this.loader=null}}},P=j,M=(r("f30e"),Object(m["a"])(P,C,q,!1,null,null,null));M.options.__file="Register.vue";var S=M.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("v-container",[r("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12 mt-5"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[e._v("Forgot password?")]),r("v-spacer")],1),r("v-card-text",[e._v("Please contact an administrator.")])],1)],1)],1)],1)],1)],1)},N=[],T={name:"Forgot",data:function(){return{}}},R=T,F=Object(m["a"])(R,L,N,!1,null,null,null);F.options.__file="Forgot.vue";var U=F.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("v-container",[r("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[r("v-card",{staticClass:"elevation-12 mt-5"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-spacer"),r("v-toolbar-title",{staticClass:"display-1"},[e._v("Whoops...")]),r("v-spacer")],1),r("v-card-text",{staticClass:"text-xs-center title font-weight-medium text-uppercase"},[r("div",[e._v("We couldn't find what you're looking for.")])]),r("v-card-actions",[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:e.goback}},[e._v(" Take me back ")])],1)],1)],1)],1)],1)],1)},I=[],A={name:"notFound",methods:{goback:function(){this.$router.go(-1)}}},B=A,z=Object(m["a"])(B,D,I,!1,null,null,null);z.options.__file="NotFound.vue";var H=z.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-navigation-drawer",{attrs:{width:"500",app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-layout",[r("v-flex",[r("v-toolbar",{attrs:{color:"blue lighten-5"}},[r("v-toolbar-title",[e._v("Conversations")]),r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("search")])],1)],1),r("v-list",{attrs:{"two-line":""}},[e._l(e.partners,function(t,s){return[r("v-list-tile",{key:t.name,attrs:{ripple:"",avatar:""},on:{click:function(r){e.getMessages(t.partner)}}},[r("v-list-tile-avatar",[r("img",{attrs:{src:t.avatar}})]),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"text-capitalize"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),r("v-list-tile-sub-title",[e._v(e._s(t.status))])],1)],1),r("v-divider",{key:s,attrs:{inset:""}})]})],2)],1)],1)],1),r("v-content",{staticStyle:{"font-size":"15px"}},[r("div",{ref:"chatContainer",staticClass:"chat-container"},[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.messages,function(t,s){return r("v-flex",{key:s,attrs:{xs12:""}},[r("span",{class:e.messageStyle(t.sender)},[e._v(e._s(t.content))])])}))],1)],1),r("div",{staticClass:"typer"},[e.currentPartner?r("input",{directives:[{name:"model",rawName:"v-model",value:e.msgContent,expression:"msgContent"}],attrs:{id:"msgBox",placeholder:"Type a message",type:"text"},domProps:{value:e.msgContent},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.sendMsg(t):null},input:function(t){t.target.composing||(e.msgContent=t.target.value)}}}):e._e(),e.currentPartner?r("v-btn",{staticClass:"subheading",attrs:{disabled:e.msgContent.length<1,flat:"",color:"primary"},on:{click:e.sendMsg}},[e._v("Send")]):e._e()],1)])],1)},G=[],W={name:"Messages",data:function(){return{isConnected:!1,partners:[],messages:[],currentPartner:"",drawer:!0,msgContent:""}},sockets:{connect:function(){this.isConnected=!0},disconnect:function(){this.isConnected=!1},message:function(e){this.currentPartner===e&&this.getMessages(e);var t=!1;this.partners.forEach(function(r){r.partner===e&&(t=!0)}),t||this.getConversations()}},methods:{scrollBottom:function(){this.$nextTick(function(){var e=this.$refs.chatContainer;e.scrollTop=e.scrollHeight})},toggleDrawer:function(){this.drawer=!this.drawer},sendMsg:function(){if(this.msgContent.length>0&&this.currentUser){this.messages.push({sender:this.currentUser,receiver:this.currentPartner,content:this.msgContent,datetime:""});var e=this.msgContent;this.msgContent="",this.scrollBottom(),this.axios({method:"POST",data:{content:e,receiver:this.currentPartner},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/message/create")}).then(function(){}).catch(function(e){if(e)return e})}},getConversations:function(){var e=this;this.axios({method:"GET",withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/message/partners")}).then(function(t){e.partners=t.data}).catch(function(e){if(e)return e})},getMessages:function(e){var t=this;this.currentPartner=e,this.axios({method:"GET",withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/message/read/").concat(e)}).then(function(e){t.messages=e.data,document.getElementById("msgBox").focus(),t.scrollBottom()}).catch(function(e){if(e)return e})},messageStyle:function(e){var t=[];return e===this.currentUser?t.push("you"):t.push("partner"),t.push("message"),t.push("elevation-2"),t}},computed:{currentUser:function(){return this.$store.getters["users/currentUser"].username}},beforeMount:function(){this.getConversations()},created:function(){this.$eventHub.$on("toggleDrawer",this.toggleDrawer),this.$socket.emit("join",this.currentUser)},beforeDestroy:function(){this.$eventHub.$off("toggleDrawer")}},J=W,Y=(r("5932"),Object(m["a"])(J,V,G,!1,null,null,null));Y.options.__file="Messages.vue";var Z=Y.exports;s["default"].use(b["a"]);var K=new b["a"]({routes:[{path:"/",redirect:{name:"login"}},{path:"*",component:H},{path:"/login",name:"login",component:E},{path:"/register",name:"register",component:S},{path:"/forgot",name:"forgot",component:U},{path:"/messages",name:"messages",component:Z}]}),Q={router:K,name:"CyseDM",components:{Toolbar:g},beforeMount:function(){this.$store.commit("users/validate")},created:function(){var e=this;this.axios.interceptors.response.use(function(e){return e},function(t){return 401===t.response.status&&(e.$store.commit("users/logout"),e.$router.push("login")),Promise.reject(t)})},data:function(){return{drawer:!0}}},X=Q,ee=Object(m["a"])(X,o,i,!1,null,null,null);ee.options.__file="App.vue";var te=ee.exports,re=r("bc3a"),se=r.n(re),ae=r("a7fe"),ne=r.n(ae),oe=r("1dce"),ie=r.n(oe);s["default"].use(ne.a,se.a),s["default"].use(u["a"]);var le={status:"",user:{}},ce={authStatus:function(e){return e.status},isLoggedIn:function(e){return"success"===e.status},currentUser:function(e){return e.user}},ue={},de={auth_request:function(e){e.status="loading"},auth_success:function(e,t){e.status="success",e.user=t},auth_error:function(e){e.status="error"},logout:function(e){e.status="",e.user={},se()({method:"GET",withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/unstate")}).catch(function(){})},validate:function(e){se()({method:"post",data:{user:e.user},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/validate")}).catch(function(){})}},fe={namespaced:!0,state:le,getters:ce,actions:ue,mutations:de},pe=r("0e44");s["default"].use(ne.a,se.a),s["default"].use(u["a"]);var ve=new u["a"].Store({modules:{users:fe},plugins:[Object(pe["a"])()]}),me=r("0a12"),he=r.n(me);s["default"].use(ne.a,se.a),s["default"].use(ie.a),s["default"].use(b["a"]),s["default"].use(he.a,"http://".concat("b-it-s.nl",":3000")),s["default"].config.productionTip=!1,s["default"].prototype.$eventHub=new s["default"],new s["default"]({store:ve,render:function(e){return e(te)}}).$mount("#app")},5932:function(e,t,r){"use strict";var s=r("4366"),a=r.n(s);a.a},e048:function(e,t,r){},f30e:function(e,t,r){"use strict";var s=r("e048"),a=r.n(s);a.a},fb8f:function(e,t,r){}});
//# sourceMappingURL=app.624b0125.js.map