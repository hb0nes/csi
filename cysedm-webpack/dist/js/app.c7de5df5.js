(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"039a":function(e,t,s){"use strict";var r=s("fb8f"),a=s.n(r);a.a},"0fd5":function(e,t,s){var r={"./af":"8206","./af.js":"8206","./ar":"cdac","./ar-dz":"7f26","./ar-dz.js":"7f26","./ar-kw":"8e88","./ar-kw.js":"8e88","./ar-ly":"cd65","./ar-ly.js":"cd65","./ar-ma":"e8d6","./ar-ma.js":"e8d6","./ar-sa":"a284","./ar-sa.js":"a284","./ar-tn":"64f7","./ar-tn.js":"64f7","./ar.js":"cdac","./az":"b139","./az.js":"b139","./be":"98e2","./be.js":"98e2","./bg":"a1a5","./bg.js":"a1a5","./bm":"4d0d","./bm.js":"4d0d","./bn":"e8ae","./bn.js":"e8ae","./bo":"bcf2","./bo.js":"bcf2","./br":"69f1","./br.js":"69f1","./bs":"24d1","./bs.js":"24d1","./ca":"3507","./ca.js":"3507","./cs":"d15f","./cs.js":"d15f","./cv":"7bfe","./cv.js":"7bfe","./cy":"1d35","./cy.js":"1d35","./da":"a019","./da.js":"a019","./de":"0cfa","./de-at":"edea","./de-at.js":"edea","./de-ch":"9aae","./de-ch.js":"9aae","./de.js":"0cfa","./dv":"1722","./dv.js":"1722","./el":"5390","./el.js":"5390","./en-au":"dad9","./en-au.js":"dad9","./en-ca":"6f13","./en-ca.js":"6f13","./en-gb":"6267","./en-gb.js":"6267","./en-ie":"80b1","./en-ie.js":"80b1","./en-il":"ad38","./en-il.js":"ad38","./en-nz":"39db","./en-nz.js":"39db","./eo":"1a30","./eo.js":"1a30","./es":"48a3","./es-do":"f306","./es-do.js":"f306","./es-us":"60bf","./es-us.js":"60bf","./es.js":"48a3","./et":"f891","./et.js":"f891","./eu":"a403","./eu.js":"a403","./fa":"ce14","./fa.js":"ce14","./fi":"fc14","./fi.js":"fc14","./fo":"2bf2","./fo.js":"2bf2","./fr":"c1e8","./fr-ca":"50a2","./fr-ca.js":"50a2","./fr-ch":"b087","./fr-ch.js":"b087","./fr.js":"c1e8","./fy":"4665","./fy.js":"4665","./gd":"056c","./gd.js":"056c","./gl":"efde","./gl.js":"efde","./gom-latn":"8e2c","./gom-latn.js":"8e2c","./gu":"533d","./gu.js":"533d","./he":"7520","./he.js":"7520","./hi":"d2f3","./hi.js":"d2f3","./hr":"7e79","./hr.js":"7e79","./hu":"148f","./hu.js":"148f","./hy-am":"6711","./hy-am.js":"6711","./id":"2b10","./id.js":"2b10","./is":"1feb","./is.js":"1feb","./it":"1b21","./it.js":"1b21","./ja":"926e","./ja.js":"926e","./jv":"5a78","./jv.js":"5a78","./ka":"5975","./ka.js":"5975","./kk":"cc93","./kk.js":"cc93","./km":"66e1","./km.js":"66e1","./kn":"5421","./kn.js":"5421","./ko":"1297","./ko.js":"1297","./ky":"3df9","./ky.js":"3df9","./lb":"c124","./lb.js":"c124","./lo":"20a5","./lo.js":"20a5","./lt":"c14a","./lt.js":"c14a","./lv":"c553","./lv.js":"c553","./me":"ae25","./me.js":"ae25","./mi":"6f56","./mi.js":"6f56","./mk":"c8fc","./mk.js":"c8fc","./ml":"752d","./ml.js":"752d","./mn":"f09e","./mn.js":"f09e","./mr":"0a56","./mr.js":"0a56","./ms":"55b6","./ms-my":"a9e9","./ms-my.js":"a9e9","./ms.js":"55b6","./mt":"624b","./mt.js":"624b","./my":"e256","./my.js":"e256","./nb":"e1d5","./nb.js":"e1d5","./ne":"761a","./ne.js":"761a","./nl":"a0f2","./nl-be":"5cb2","./nl-be.js":"5cb2","./nl.js":"a0f2","./nn":"4fda","./nn.js":"4fda","./pa-in":"2f2f","./pa-in.js":"2f2f","./pl":"317f","./pl.js":"317f","./pt":"5553","./pt-br":"a9ab","./pt-br.js":"a9ab","./pt.js":"5553","./ro":"db12","./ro.js":"db12","./ru":"7aa4","./ru.js":"7aa4","./sd":"e87b","./sd.js":"e87b","./se":"a296","./se.js":"a296","./si":"51ec","./si.js":"51ec","./sk":"608b","./sk.js":"608b","./sl":"b367","./sl.js":"b367","./sq":"f68f","./sq.js":"f68f","./sr":"0991","./sr-cyrl":"c577","./sr-cyrl.js":"c577","./sr.js":"0991","./ss":"cf76","./ss.js":"cf76","./sv":"0153","./sv.js":"0153","./sw":"cb6f","./sw.js":"cb6f","./ta":"8bfa","./ta.js":"8bfa","./te":"668b","./te.js":"668b","./tet":"eae7","./tet.js":"eae7","./tg":"70b1","./tg.js":"70b1","./th":"7180","./th.js":"7180","./tl-ph":"f8bb","./tl-ph.js":"f8bb","./tlh":"b026","./tlh.js":"b026","./tr":"371d","./tr.js":"371d","./tzl":"c744","./tzl.js":"c744","./tzm":"787a","./tzm-latn":"71e0","./tzm-latn.js":"71e0","./tzm.js":"787a","./ug-cn":"6b5c","./ug-cn.js":"6b5c","./uk":"8c0c","./uk.js":"8c0c","./ur":"519e","./ur.js":"519e","./uz":"7982","./uz-latn":"3137","./uz-latn.js":"3137","./uz.js":"7982","./vi":"ae22","./vi.js":"ae22","./x-pseudo":"1129","./x-pseudo.js":"1129","./yo":"b4bf","./yo.js":"b4bf","./zh-cn":"fdc4","./zh-cn.js":"fdc4","./zh-hk":"747d","./zh-hk.js":"747d","./zh-tw":"d3e0","./zh-tw.js":"d3e0"};function a(e){var t=n(e);return s(t)}function n(e){var t=r[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id="0fd5"},4366:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("744f"),s("6c7b"),s("7514"),s("20d6"),s("1c4c"),s("6762"),s("cadf"),s("e804"),s("55dd"),s("d04f"),s("c8ce"),s("217b"),s("7f7f"),s("f400"),s("7f25"),s("536b"),s("d9ab"),s("f9ab"),s("32d7"),s("25c9"),s("9f3c"),s("042e"),s("c7c6"),s("f4ff"),s("049f"),s("7872"),s("a69f"),s("0b21"),s("6c1a"),s("c7c62"),s("84b4"),s("c5f6"),s("2e37"),s("fca0"),s("7cdf"),s("ee1d"),s("b1b1"),s("87f3"),s("9278"),s("5df2"),s("04ff"),s("f751"),s("4504"),s("fee7"),s("ffc1"),s("0d6d"),s("9986"),s("8e6e"),s("25db"),s("e4f7"),s("b9a1"),s("64d5"),s("9aea"),s("db97"),s("66c8"),s("57f0"),s("165b"),s("456d"),s("cf6a"),s("fd24"),s("8615"),s("551c"),s("097d"),s("df1b"),s("2397"),s("88ca"),s("ba16"),s("d185"),s("ebde"),s("2d34"),s("f6b3"),s("2251"),s("c698"),s("a19f"),s("9253"),s("9275"),s("3b2b"),s("3846"),s("4917"),s("a481"),s("28a5"),s("386d"),s("6b54"),s("4f7f"),s("8a81"),s("ac4d"),s("8449"),s("9c86"),s("fa83"),s("48c0"),s("a032"),s("aef6"),s("d263"),s("6c37"),s("9ec8"),s("5695"),s("2fdb"),s("d0b0"),s("b54a"),s("f576"),s("ed50"),s("788d"),s("14b9"),s("f386"),s("f559"),s("1448"),s("673e"),s("242a"),s("c66f"),s("b05c"),s("34ef"),s("6aa2"),s("15ac"),s("af56"),s("b6e4"),s("9c29"),s("63d9"),s("4dda"),s("10ad"),s("c02b"),s("4795"),s("130f"),s("ac6a"),s("96cf");var r=s("2b0e"),a=s("ce5b"),n=s.n(a);s("bf40");r["default"].use(n.a,{iconfont:"md"});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("router-view",{attrs:{drawer:e.drawer}}),s("Toolbar",{on:{toggleNav:function(t){e.drawer=!e.drawer}}})],1)},o=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":"",dark:"",color:"primary"}},[e.isLoggedIn?s("v-toolbar-side-icon",{on:{click:function(t){e.toggleDrawer()}}}):e._e(),s("a",[s("v-toolbar-title",{staticClass:"white--text",on:{click:function(t){e.redirect()}}},[e._v("CyseDM")])],1),s("v-spacer"),s("v-alert",{staticStyle:{position:"relative",top:"62px"},attrs:{transition:"scale-transition",type:"success",icon:"check_circle"},model:{value:e.alertSuccess,callback:function(t){e.alertSuccess=t},expression:"alertSuccess"}},[e._v("You've succesfully logged out!")]),s("v-alert",{staticStyle:{position:"absolute",top:"62px"},attrs:{transition:"scale-transition",type:"error",icon:"warning"},model:{value:e.alertFail,callback:function(t){e.alertFail=t},expression:"alertFail"}},[e._v("Error logging out: "+e._s(e.err)+"!")]),e.isLoggedIn?s("v-menu",{attrs:{"offset-y":""}},[s("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[s("span",[e._v(e._s(e.currentUser.username))]),s("v-icon",[e._v("arrow_drop_down")])],1),s("v-list",e._l(e.actions,function(t,r){return s("v-list-tile",{key:r,on:{click:t.action}},[s("v-list-tile-title",[e._v(e._s(t.title))])],1)}))],1):e._e()],1)},l=[],u=s("2f62");function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},r=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),r.forEach(function(t){f(e,t,s[t])})}return e}function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var m={data:function(){var e=this;return{alertSuccess:!1,alertFail:!1,err:"",actions:[{title:"Logout",action:function(){try{e.$store.commit("users/logout"),e.$router.push("login"),e.alertSuccess=!0,setTimeout(function(){e.alertSuccess=!1},2e3)}catch(t){e.err=t,e.alertFail=!0,setTimeout(function(){e.alertFail=!1},2e3)}}}]}},computed:d({},Object(u["b"])("users",["isLoggedIn","currentUser"])),watch:{},methods:{redirect:function(){this.isLoggedIn?this.$router.push("messages"):this.$router.push("/")},toggleDrawer:function(){this.$eventHub.$emit("toggleDrawer")}}},v=m,h=s("2877"),p=Object(h["a"])(v,c,l,!1,null,null,null);p.options.__file="Toolbar.vue";var g=p.exports,b=s("8c4f"),j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[s("v-container",[s("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",{staticClass:"elevation-12 mt-5"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Login")]),s("v-spacer")],1),s("v-card-text",[s("v-form",{attrs:{"lazy-validation":""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.valid&&e.reqFullscreen(),e.logIn()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"error-messages":e.loginErrors,"prepend-icon":"person",label:"Username or Email",type:"text",required:""},on:{input:function(t){e.$v.login.$touch()},blur:function(t){e.$v.login.$touch()}},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),s("v-text-field",{attrs:{"error-messages":e.passwordErrors,"prepend-icon":"lock",label:"Password",type:"password",required:""},on:{input:function(t){e.$v.password.$touch()},blur:function(t){e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-alert",{attrs:{dismissible:"",type:"error",transition:"scale-transition"},model:{value:e.loginErr,callback:function(t){e.loginErr=t},expression:"loginErr"}},[e._v(e._s(e.errMsg))]),s("v-alert",{attrs:{dismissible:"",type:"success",transition:"scale-transition"},model:{value:e.loginRes,callback:function(t){e.loginRes=t},expression:"loginRes"}},[e._v("Succesfully authenticated.")]),s("v-btn",{attrs:{loading:e.loading,disabled:!e.valid||e.loading,block:"",color:"primary"},on:{click:function(t){e.logIn()}}},[e._v("Login")])],1),s("v-btn",{attrs:{dark:"",block:"",color:"secondary",to:"/forgot"}},[e._v("Forgot password")]),s("v-btn",{attrs:{block:"",outline:"",color:"primary",to:"/register"}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],1)},w=[],y=s("b5ae"),_={name:"Login",validations:{login:{required:y["required"]},password:{required:y["required"]}},data:function(){return{loader:null,loading:!1,valid:!0,login:"",password:"",loginRes:!1,loginMsg:"",loginErr:!1,errMsg:""}},computed:{loginErrors:function(){var e=[];return this.$v.login.$dirty?(!this.$v.login.required&&e.push("Login is required."),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required."),e):e}},methods:{reqFullscreen:function(){var e=document.getElementById("app");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},logIn:function(){var e=this;this.loader="loading",this.$store.commit("users/auth_request"),this.axios({method:"post",data:{login:this.login,password:this.password},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/login")}).then(function(t){e.loading=!1,e.$store.commit("users/auth_success",t.data),e.loginRes=!0,e.loginMsg=t.data,e.$router.push("messages")}).catch(function(t){e.loading=!1,e.$store.commit("users/auth_error"),e.loginErr=!0,e.errMsg=t.message,t.response&&(e.errMsg=t.response.data.message)})}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout(function(){return e[t]=!1},3e3),this.loader=null}}},k=_,x=(s("039a"),Object(h["a"])(k,j,w,!1,null,null,null));x.options.__file="Login.vue";var $=x.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[s("v-container",[s("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",{staticClass:"elevation-12 mt-5"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[e.registered?s("v-toolbar-title",[e._v("Welcome "+e._s(e.username)+"!")]):s("v-toolbar-title",[e._v("Register")]),s("v-spacer")],1),s("v-card-text",[e.registered?s("div",[s("v-alert",{staticClass:"mb-3",attrs:{value:!0,color:"success",icon:"check_circle",outline:""}},[s("span",{staticClass:"title"},[e._v("Your account has been created successfully!")])]),s("v-btn",{attrs:{block:"",color:"primary",to:"/login"}},[e._v("Return to loginpage")])],1):s("v-form",{attrs:{"lazy-validation":""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.valid&&e.register()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"error-messages":e.usernameErrors,"prepend-icon":"person",label:"Username",type:"text",required:""},on:{input:function(t){e.$v.username.$touch()},blur:function(t){e.$v.username.$touch()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{"error-messages":e.firstnameErrors,"prepend-icon":"undo",label:"First name",type:"text",required:""},on:{input:function(t){e.$v.firstname.$touch()},blur:function(t){e.$v.firstname.$touch()}},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}}),s("v-text-field",{attrs:{"error-messages":e.lastnameErrors,"prepend-icon":"redo",label:"Last name",type:"text",required:""},on:{input:function(t){e.$v.lastname.$touch()},blur:function(t){e.$v.lastname.$touch()}},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),s("v-text-field",{attrs:{"error-messages":e.emailErrors,"prepend-icon":"mail_outline",label:"Email",type:"text",required:""},on:{input:function(t){e.$v.email.$touch()},blur:function(t){e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-text-field",{attrs:{"error-messages":e.passwordErrors,"prepend-icon":"done",label:"Password",type:"password",required:""},on:{input:function(t){e.$v.password.$touch()},blur:function(t){e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-text-field",{attrs:{"error-messages":e.confirmErrors,"prepend-icon":"done_all",label:"Confirm password",type:"password",sameAsPassword:""},on:{input:function(t){e.$v.confirmpassword.$touch()},blur:function(t){e.$v.confirmpassword.$touch()}},model:{value:e.confirmpassword,callback:function(t){e.confirmpassword=t},expression:"confirmpassword"}}),s("v-alert",{attrs:{dismissible:"",type:"error",transition:"scale-transition"},model:{value:e.regErr,callback:function(t){e.regErr=t},expression:"regErr"}},[e._v(e._s(e.errMsg))]),s("v-alert",{attrs:{dismissible:"",type:"success",transition:"scale-transition"},model:{value:e.regRes,callback:function(t){e.regRes=t},expression:"regRes"}},[e._v("Succesfully registered.")]),s("v-btn",{attrs:{loading:e.loading,disabled:!e.valid||e.loading,block:"",color:"primary"},on:{click:e.register}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],1)],1)},q=[],C=function(e){return/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/.test(e)},O={name:"Register",data:function(){return{loader:null,loading:!1,valid:!0,username:"",firstname:"",lastname:"",email:"",password:"",confirmpassword:"",regRes:!1,regMsg:"",regErr:!1,errMsg:"",registered:!1}},validations:{username:{required:y["required"],maxLength:Object(y["maxLength"])(12),alphaNum:y["alphaNum"]},firstname:{required:y["required"],isValidName:C,maxLength:Object(y["maxLength"])(40),alpha:y["alpha"]},lastname:{required:y["required"],isValidName:C,maxLength:Object(y["maxLength"])(40),alpha:y["alpha"]},email:{required:y["required"],email:y["email"]},password:{required:y["required"],minLength:Object(y["minLength"])(8),alphaNum:y["alphaNum"]},confirmpassword:{required:y["required"],sameAsPassword:Object(y["sameAs"])("password")}},computed:{usernameErrors:function(){var e=[];return this.$v.username.$dirty?(!this.$v.username.maxLength&&e.push("Username must be at most 12 characters long"),!this.$v.username.required&&e.push("Username is required."),!this.$v.username.alphaNum&&e.push("Username must be alphanumeric."),e):e},firstnameErrors:function(){var e=[];return this.$v.firstname.$dirty?(!this.$v.firstname.maxLength&&e.push("Name must be at most 40 characters long"),!this.$v.firstname.required&&e.push("First name is required."),!this.$v.firstname.isValidName&&e.push("Firstname contains illegal characters"),e):e},lastnameErrors:function(){var e=[];return this.$v.lastname.$dirty?(!this.$v.lastname.maxLength&&e.push("Name must be at most 40 characters long"),!this.$v.lastname.required&&e.push("Last name is required."),!this.$v.lastname.isValidName&&e.push("Lastname contains illegal characters"),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Enter a valid email addres"),!this.$v.email.required&&e.push("Email is required."),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&e.push("Password must be at least 8 characters long"),!this.$v.email.required&&e.push("Password is required."),e):e},confirmErrors:function(){var e=[];return this.$v.confirmpassword.$dirty?(!this.$v.confirmpassword.sameAsPassword&&e.push("Passwords must be identical"),!this.$v.confirmpassword.required&&e.push("Confirming password is required."),e):e}},methods:{register:function(){var e=this;this.loader="loading",this.axios({method:"post",data:{username:this.username,firstName:this.firstname,lastName:this.lastname,email:this.email,password:this.password},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/create")}).then(function(t){e.loading=!1,e.regRes=!0,e.regMsg=t.data,e.registered=!0}).catch(function(t){e.loading=!1,e.regErr=!0,e.errMsg=t.message.toString(),t.response.data&&(e.errMsg=t.response.data.message)})}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout(function(){return e[t]=!1},3e3),this.loader=null}}},M=O,z=(s("f30e"),Object(h["a"])(M,E,q,!1,null,null,null));z.options.__file="Register.vue";var S=z.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[s("v-container",[s("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",{staticClass:"elevation-12 mt-5"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Forgot password?")]),s("v-spacer")],1),s("v-card-text",[e._v("Please contact an administrator.")])],1)],1)],1)],1)],1)],1)},P=[],L={name:"Forgot",data:function(){return{}}},D=L,T=Object(h["a"])(D,R,P,!1,null,null,null);T.options.__file="Forgot.vue";var F=T.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[s("v-container",[s("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[s("v-card",{staticClass:"elevation-12 mt-5"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-spacer"),s("v-toolbar-title",{staticClass:"display-1"},[e._v("Whoops...")]),s("v-spacer")],1),s("v-card-text",{staticClass:"text-xs-center title font-weight-medium text-uppercase"},[s("div",[e._v("We couldn't find what you're looking for.")])]),s("v-card-actions",[s("v-btn",{attrs:{block:"",color:"primary"},on:{click:e.goback}},[e._v(" Take me back ")])],1)],1)],1)],1)],1)],1)},U=[],H={name:"notFound",methods:{goback:function(){this.$router.go(-1)}}},Y=H,B=Object(h["a"])(Y,N,U,!1,null,null,null);B.options.__file="NotFound.vue";var I=B.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-layout",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Select Recipient")]),s("v-spacer")],1),s("v-card-text",[s("v-text-field",{attrs:{id:"searchBox",autofocus:"",label:"Search User","append-icon":"search",solo:""},on:{"click:append":function(t){e.searchUser(e.search)},keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searchUser(e.search)},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.dialog=!1}]},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.searchMsg.length>0?s("p",[e._v(e._s(e.searchMsg))]):e._e(),e.searchResult.length>0?s("v-list",{attrs:{"two-line":""}},[e._l(e.searchResult,function(t,r){return[s("v-list-tile",{key:r,attrs:{avatar:""},on:{click:function(t){e.userSelected=!e.userSelected}}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.avatar}})]),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),s("v-list-tile-sub-title",[e._v(e._s(t.status))])],1),e.userSelected?s("v-list-tile-action",[s("v-icon",[e._v("check")])],1):e._e()],1)]})],2):e._e()],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{block:"",color:"primary",disabled:!e.userSelected,flat:""},on:{click:e.addUser}},[e._v("OK")]),s("v-spacer")],1)],1)],1),s("v-flex",[s("v-toolbar",{attrs:{color:"blue lighten-5"}},[s("v-toolbar-title",[e._v("Conversations")]),s("v-spacer"),s("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialog=!0,e.focusSearch()}}},[s("v-icon",[e._v("search")])],1)],1),s("v-list",{attrs:{"two-line":""}},[e._l(e.partners,function(t,r){return[s("v-list-tile",{key:t.name,attrs:{ripple:"",avatar:""},on:{click:function(s){e.getMessages(t.partner)}}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.avatar}})]),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"text-capitalize"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),s("v-list-tile-sub-title",[e._v(e._s(t.status))])],1)],1),s("v-divider",{key:r,attrs:{inset:""}})]})],2)],1)],1)],1),s("v-content",{staticStyle:{"font-size":"15px"}},[s("div",{ref:"chatContainer",staticClass:"chat-container"},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{row:"",wrap:""}},e._l(e.messages,function(t,r){return s("v-flex",{key:r,attrs:{xs12:""}},[0==r||e.newDate(t.datetime,e.messages[r-1].datetime)?[s("div",{staticClass:"date"},[e._v("\n                "+e._s(e.getDate(t.datetime))+"\n                "),s("v-divider")],1)]:e._e(),s("span",{class:e.messageStyle(t.sender)},[e._v("\n              "+e._s(t.content)+"\n              "),s("br"),s("em",{staticStyle:{"font-size":"0.7em"}},[e._v(e._s(e.getTime(t.datetime)))])])],2)}))],1)],1),s("div",{staticClass:"typer"},[e.currentPartner?s("input",{directives:[{name:"model",rawName:"v-model",value:e.msgContent,expression:"msgContent"}],attrs:{id:"msgBox",placeholder:"Type a message",type:"text"},domProps:{value:e.msgContent},on:{click:function(t){e.scrollBottom()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.sendMsg(t):null},input:function(t){t.target.composing||(e.msgContent=t.target.value)}}}):e._e(),e.currentPartner?s("v-btn",{staticClass:"subheading",attrs:{disabled:e.msgContent.length<1,flat:"",color:"primary"},on:{click:e.sendMsg}},[e._v("Send")]):e._e()],1)]),s("audio",{attrs:{id:"audio",src:"./sounds/notification.mp3"}})],1)},G=[],V=s("4e22"),W=s.n(V),J=s("38cf"),K=s.n(J),Z=s("5118"),Q={name:"Messages",data:function(){return{window:{width:0,height:0},isConnected:!1,partners:[],messages:[],currentPartner:"",debug:!1,dialog:!1,drawer:!0,msgContent:"",search:"",searchResult:[],searchMsg:"",userSelected:!1}},sockets:{connect:function(){this.isConnected=!0},disconnect:function(){this.isConnected=!1},message:function(e){K.a.create("New message from ".concat(e,"!")),document.getElementById("audio").play(),this.currentPartner===e&&this.getMessages(e);var t=!1;this.partners.forEach(function(s){s.partner===e&&(t=!0)}),t||this.getConversations()}},methods:{handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},focusSearch:function(){Object(Z["setTimeout"])(function(){document.getElementById("searchBox").focus()},200)},addUser:function(){var e=this;if(this.userSelected){var t=!0;this.partners.forEach(function(s){s.partner===e.searchResult[0].partner&&(t=!1)}),t&&this.partners.unshift(this.searchResult[0])}this.userSelected=!1,this.searchResult=[],this.search="",this.searchMsg="",this.dialog=!1},searchUser:function(e){var t=this;this.search.length<1||this.axios({method:"GET",withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/list/").concat(e.toLowerCase())}).then(function(e){t.searchResult=[],t.searchResult.push(e.data),t.searchMsg=""}).catch(function(){t.searchResult=[],t.searchMsg="No users found."})},scrollBottom:function(){var e=this,t=50;this.window.width<600&&(t=300),Object(Z["setTimeout"])(function(){var t=e.$refs.chatContainer;t.scrollTop=t.scrollHeight},t)},toggleDrawer:function(){this.drawer=!this.drawer},sendMsg:function(){if(this.msgContent.length>0&&this.currentUser){var e=new Date,t=e.getTimezoneOffset();this.messages.push({sender:this.currentUser,receiver:this.currentPartner,content:this.msgContent,datetime:W()(e).add(t,"m").format("YYYY-MM-DD HH:mm:ss")});var s=this.msgContent;this.msgContent="",this.scrollBottom(),this.axios({method:"POST",data:{content:s,receiver:this.currentPartner},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/message/create")}).then(function(){}).catch(function(e){if(e)return e})}},getConversations:function(){var e=this;this.axios({method:"GET",withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/message/partners")}).then(function(t){e.partners=t.data}).catch(function(e){if(e)return e})},getMessages:function(e){var t=this;this.currentPartner=e,this.axios({method:"GET",withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/message/read/").concat(e)}).then(function(e){t.window.width<600&&(t.drawer=!1),t.messages=e.data,document.getElementById("msgBox").focus(),t.scrollBottom()}).catch(function(e){if(e)return e})},messageStyle:function(e){var t=[];return e===this.currentUser?t.push("you"):t.push("partner"),t.push("message"),t.push("elevation-2"),t},newDate:function(e,t){return this.getDate(e)!=this.getDate(t)},getDate:function(e){W.a.locale("nl");var t=new Date,s=t.getTimezoneOffset(),r=W()(e,"YYYY-MM-DD HH:mm:ss");return W()(r).add(-s,"m").format("l")},getTime:function(e){W.a.locale("nl");var t=new Date,s=t.getTimezoneOffset(),r=W()(e,"YYYY-MM-DD HH:mm:ss");return W()(r).add(-s,"m").format("HH:mm")}},computed:{currentUser:function(){return this.$store.getters["users/currentUser"].username}},beforeMount:function(){this.getConversations()},created:function(){try{K.a.Permission.request(function(e){},function(e){})}catch(e){return}this.$eventHub.$on("toggleDrawer",this.toggleDrawer),this.$socket.emit("join",this.currentUser),window.addEventListener("resize",this.handleResize),this.handleResize()},beforeDestroy:function(){this.$eventHub.$off("toggleDrawer")},destroyed:function(){window.removeEventListener("resize",this.handleResize)}},X=Q,ee=(s("5932"),Object(h["a"])(X,A,G,!1,null,null,null));ee.options.__file="Messages.vue";var te=ee.exports;r["default"].use(b["a"]);var se=new b["a"]({routes:[{path:"/",redirect:{name:"login"}},{path:"*",component:I},{path:"/login",name:"login",component:$},{path:"/register",name:"register",component:S},{path:"/forgot",name:"forgot",component:F},{path:"/messages",name:"messages",component:te}]}),re={router:se,name:"CyseDM",components:{Toolbar:g},beforeMount:function(){this.$store.commit("users/validate")},created:function(){var e=this;this.axios.interceptors.response.use(function(e){return e},function(t){return 401===t.response.status&&(e.$store.commit("users/logout"),e.$router.push("login")),Promise.reject(t)})},data:function(){return{drawer:!0}}},ae=re,ne=Object(h["a"])(ae,i,o,!1,null,null,null);ne.options.__file="App.vue";var ie=ne.exports,oe=s("bc3a"),ce=s.n(oe),le=s("a7fe"),ue=s.n(le),de=s("1dce"),fe=s.n(de);r["default"].use(ue.a,ce.a),r["default"].use(u["a"]);var me={status:"",user:{}},ve={authStatus:function(e){return e.status},isLoggedIn:function(e){return"success"===e.status},currentUser:function(e){return e.user}},he={},pe={auth_request:function(e){e.status="loading"},auth_success:function(e,t){e.status="success",e.user=t},auth_error:function(e){e.status="error"},logout:function(e){e.status="",e.user={},ce()({method:"GET",withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/unstate")}).catch(function(){})},validate:function(e){ce()({method:"post",data:{user:e.user},withCredentials:!0,url:"http://".concat("b-it-s.nl",":3000/api/v1/user/validate")}).catch(function(){})}},ge={namespaced:!0,state:me,getters:ve,actions:he,mutations:pe},be=s("0e44");r["default"].use(ue.a,ce.a),r["default"].use(u["a"]);var je=new u["a"].Store({modules:{users:ge},plugins:[Object(be["a"])()]}),we=s("0a12"),ye=s.n(we);r["default"].use(ue.a,ce.a),r["default"].use(fe.a),r["default"].use(b["a"]),r["default"].use(ye.a,"http://".concat("b-it-s.nl",":3000")),r["default"].config.productionTip=!1,r["default"].prototype.$eventHub=new r["default"],new r["default"]({store:je,render:function(e){return e(ie)}}).$mount("#app")},5932:function(e,t,s){"use strict";var r=s("4366"),a=s.n(r);a.a},e048:function(e,t,s){},f30e:function(e,t,s){"use strict";var r=s("e048"),a=s.n(r);a.a},fb8f:function(e,t,s){}});
//# sourceMappingURL=app.c7de5df5.js.map