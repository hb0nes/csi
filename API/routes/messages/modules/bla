require('dotenv').config();
var crypto = require('crypto'),
    algorithm = 'aes-256-ctr',
    password = process.env.PASSWORD

module.exports = {
    encrypt: function (content){
        try {
            var cipher = crypto.createCipher(algorithm, password);
            var crypted = cipher.update(content, 'utf8', 'hex')
            crypted += cipher.final('hex');
            return crypted;
        }
        catch (err) {
            return (`Failed to encrypt content. ${err}`)
        }
    },
    decrypt: function (content){
        try {
            var decipher = crypto.createDecipher(algorithm, password);
            var decrypted = decipher.update(content, 'hex', 'utf8')
            decrypted += decipher.final('utf8');
            return decrypted;
        }
        catch (err) {
            return (`Failed to decrypt content. ${err}`)
        }
    }
};